<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Calculadora de Costos con IndexedDB</title>
  <!-- Enlaza el nuevo archivo CSS -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Calculadora de Costos (IndexedDB)</h1>
    <p>
      Replica la lógica de tu Excel y además almacena los registros en IndexedDB.
      Al recargar la página, los datos siguen estando disponibles.
    </p>
  </header>

  <!-- SECCIÓN 1: Gastos Fijos (Parte 1) -->
  <section>
    <h2>Gastos Fijos (Parte 1)</h2>
    <!-- Contenedor general del formulario -->
    <div class="form-container">
      <!-- Fila 1 -->
      <div class="form-row">
        <div class="form-col">
          <label for="nombre1">Nombre del objeto:</label>
          <input id="nombre1" type="text" placeholder="Ej: Pieza A" />
        </div>
        <div class="form-col">
          <label for="foto1">Foto del objeto:</label>
          <input id="foto1" type="file" accept="image/*" />
        </div>
      </div>

      <!-- Fila 2 -->
      <div class="form-row">
        <div class="form-col">
          <label for="precioKg1">Precio KG:</label>
          <input id="precioKg1" type="number" placeholder="Ej: 17000" />
        </div>
        <div class="form-col">
          <label for="precioKwh1">Precio Kwh:</label>
          <input id="precioKwh1" type="number" placeholder="Ej: 300" />
        </div>
      </div>

      <!-- Fila 3 -->
      <div class="form-row">
        <div class="form-col">
          <label for="consumoHora1">Consumo real por hora (W):</label>
          <input id="consumoHora1" type="number" placeholder="Ej: 300" />
        </div>
        <div class="form-col">
          <label for="desgasteHoras1">Desgaste de la Máquina en horas:</label>
          <input id="desgasteHoras1" type="number" placeholder="Ej: 4320" />
        </div>
      </div>

      <!-- Fila de botones -->
      <div class="form-row form-row-buttons">
        <button onclick="calcularSeccion1()">Calcular</button>
        <button onclick="guardarRegistro1()">Guardar Registro</button>
      </div>
    </div>

    <!-- Resultados -->
    <div class="results">
      <h3>RESULTADOS</h3>
      <p>Precio Material: <span id="precioMaterial1">-</span></p>
      <p>Precio Luz: <span id="precioLuz1">-</span></p>
      <p>Desgaste de la Máquina: <span id="desgasteMaquina1">-</span></p>
      <p>Margen de Error: <span id="margenError1">-</span></p>
    </div>
  </section>

  <hr />

  <!-- SECCIÓN 2: PARTES 2 (Otra pieza/escenario) -->
  <section>
    <h2>PARTES 2 (Otra pieza/escenario)</h2>
    <div class="form-container">
      <!-- Fila 1 -->
      <div class="form-row">
        <div class="form-col">
          <label for="nombre2">Nombre del objeto:</label>
          <input id="nombre2" type="text" placeholder="Ej: Pieza B" />
        </div>
        <div class="form-col">
          <label for="foto2">Foto del objeto:</label>
          <input id="foto2" type="file" accept="image/*" />
        </div>
      </div>

      <!-- Fila 2 -->
      <div class="form-row">
        <div class="form-col">
          <label for="precioKg2">Precio KG:</label>
          <input id="precioKg2" type="number" placeholder="Ej: 15000" />
        </div>
        <div class="form-col">
          <label for="precioKwh2">Precio Kwh:</label>
          <input id="precioKwh2" type="number" placeholder="Ej: 300" />
        </div>
      </div>

      <!-- Fila 3 -->
      <div class="form-row">
        <div class="form-col">
          <label for="consumoHora2">Consumo real por hora (W):</label>
          <input id="consumoHora2" type="number" placeholder="Ej: 250" />
        </div>
        <div class="form-col">
          <label for="desgasteHoras2">Desgaste de la Máquina en horas:</label>
          <input id="desgasteHoras2" type="number" placeholder="Ej: 4320" />
        </div>
      </div>

      <!-- Fila de botones -->
      <div class="form-row form-row-buttons">
        <button onclick="calcularSeccion2()">Calcular</button>
        <button onclick="guardarRegistro2()">Guardar Registro</button>
      </div>
    </div>

    <!-- Resultados -->
    <div class="results">
      <h3>RESULTADOS PARTES 2</h3>
      <p>Precio Material: <span id="precioMaterial2">-</span></p>
      <p>Precio Luz: <span id="precioLuz2">-</span></p>
      <p>Desgaste de la Máquina: <span id="desgasteMaquina2">-</span></p>
      <p>Margen de Error: <span id="margenError2">-</span></p>
    </div>
  </section>

  <hr />

  <!-- TABLA DE REGISTROS -->
  <section>
    <h2>Registros Guardados (IndexedDB)</h2>
    <table id="tablaRegistros">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Foto</th>
          <th>Fecha</th>
          <th>Precio Material</th>
          <th>Precio Luz</th>
          <th>Desgaste</th>
          <th>Margen Error</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- Filas dinámicas -->
      </tbody>
    </table>
  </section>

  <!-- Script con IndexedDB y funciones de cálculo (igual que antes) -->
  <script src="app.js"></script>
</body>
</html>
